!function(o){o(function(){let t="";o("#new-quote-button").on("click",function(e){e.preventDefault(),t=document.URL,o.ajax({method:"get",url:qod_api.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).fail(function(o){console.log(o)}).done(function(t){const e=t[0],n=t[0].slug,u=`${qod_api.home_url}/${n}/`;history.pushState(null,null,u);const s=o(".entry-content"),l=e.content.rendered,r=o(".entry-title"),a=e.title.rendered;let c,i;s.html(l),e._qod_quote_source&&e._qod_quote_source_url?(c=e._qod_quote_source,i=e._qod_quote_source_url,r.html(`\n                        — <span class="author">${a}</span>, \n                        <span class="source">\n                            <a href="${i}">\n                            ${c}\n                            </a>\n                        </span>`)):e._qod_quote_source?(c=e._qod_quote_source,r.html(`\n                            — <span class="author">${a}</span>, \n                            <span class="source">\n                            ${c}\n                            </span>\n                        `)):r.html(`\n                            — <span class="author">${a}</span>\n                        `)})}),o("#quote-submission-form").on("submit",function(t){t.preventDefault();let e=o("#quote-author").val().trim().length<1?null:o("#quote-author").val(),n=o("#quote-content").val().trim().length<1?null:o("#quote-content").val(),u=o("#quote-source").val().trim().length<1?null:o("#quote-source").val(),s=o("#quote-source-url").val().trim().length<1?null:o("#quote-source-url").val();o.ajax({method:"post",url:qod_api.rest_url+"wp/v2/posts",data:{status:"publish",title:e,content:n,_qod_quote_source:u,_qod_quote_source_url:s},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_api.wpapi_nonce)}}).fail(function(o){console.log(o)}).done(function(){o("#quote-submission-form").slideUp(400,function(){o(".quote-submission-wrapper").html("Thanks, your quote submission was received!")})})}),o(window).on("popstate",function(){window.location.replace(t)})})}(jQuery);